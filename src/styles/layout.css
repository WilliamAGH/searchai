/* Ensure root fills the dynamic viewport */
html,
body,
#root {
  height: 100%;
  width: 100%;
  max-width: 100%;
  overflow-x: hidden;
  overflow-y: hidden;
}

/*
 * Lock body scroll to prevent bounce effects and address bar quirks on iOS.
 * This effectively makes the body a fixed container matching the visual viewport.
 */
html,
body {
  position: fixed;
  overscroll-behavior: none;
}

/*
 * Safe Area Inset Strategy (IMPORTANT - read before modifying)
 * ─────────────────────────────────────────────────────────────
 * We intentionally OMIT padding-bottom on body.
 *
 * WHY: Body padding creates space OUTSIDE the app container (h-dvh),
 * causing a visible gap between app content and browser chrome on iOS.
 * Instead, bottom safe-area is handled at the COMPONENT level:
 *   - ChatLayout input area: pb-[env(safe-area-inset-bottom)]
 *   - FAB positioning: calc(5rem + env(safe-area-inset-bottom))
 *
 * This ensures the app fills the full viewport with no floating gap,
 * while still respecting the home indicator where needed.
 *
 * Top/left/right padding remains for notch and landscape support.
 */
body {
  padding-top: env(safe-area-inset-top);
  padding-right: env(safe-area-inset-right);
  /* padding-bottom intentionally omitted - see comment above */
  padding-left: env(safe-area-inset-left);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--muted));
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--muted-foreground) / 0.3);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--muted-foreground) / 0.5);
}

/* Auth styles for compatibility */
.auth-input-field {
  @apply w-full px-4 py-3 rounded-lg bg-background border border-input focus:border-primary focus:ring-1 focus:ring-primary outline-none transition-shadow;
  font-size: 16px !important; /* Mobile fix */
}

.auth-button {
  @apply w-full px-4 py-3 rounded-lg bg-primary text-primary-foreground font-semibold hover:bg-primary/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed;
}
